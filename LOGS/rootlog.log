INFO admin 2020-07-15 14:19:31,369 - Requested for optimal value of K using Silhouette.
DEBUG admin 2020-07-15 14:19:31,369 - Reading binary pre-processed data
DEBUG admin 2020-07-15 14:19:31,369 - Copying data to excel file
DEBUG admin 2020-07-15 14:19:31,369 - Reading copied excel data
DEBUG admin 2020-07-15 14:19:31,385 - Binary pre-processed data not found
DEBUG admin 2020-07-15 14:19:31,385 - Reading datafile..
ERROR admin 2020-07-15 14:19:31,385 - Failed to read datafile
Traceback (most recent call last):
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\api.py", line 1475, in post
    jsondata = ex.read_json(ex.get_recent_file('preprocess_' + args['uname'] + '_' + fname, '.json'))
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\extract.py", line 174, in read_json
    fhand = open(fname)
FileNotFoundError: [Errno 2] No such file or directory: 'False'
INFO werkzeug 2020-07-15 14:19:31,385 - 127.0.0.1 - - [15/Jul/2020 14:19:31] "[31m[1mPOST /clustering/silhouette?uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 400 -
INFO admin 2020-07-15 14:20:23,239 - Requested to extract data.
DEBUG admin 2020-07-15 14:20:23,239 - Extracted links and ISINs from JSON object.
INFO admin 2020-07-15 14:20:57,324 - Made entry for extracted data in datafile successfully.
INFO werkzeug 2020-07-15 14:20:57,325 - 127.0.0.1 - - [15/Jul/2020 14:20:57] "[37mPOST /extract?no_of_docs=30&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
INFO admin 2020-07-15 14:20:57,340 - Requested to export extracted data.
DEBUG admin 2020-07-15 14:20:57,433 - Checking if filepath has valid format
DEBUG admin 2020-07-15 14:20:57,434 - Exporting data to excel file
ERROR admin 2020-07-15 14:20:57,434 - Exception occurred:NameError("name 'fname' is not defined")
Traceback (most recent call last):
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\api.py", line 236, in post
    ex.exportexcel(args['uname'], fname, filename = args['filepath'], datalist = [ISINs, URLs, text])
NameError: name 'fname' is not defined
INFO werkzeug 2020-07-15 14:20:57,434 - 127.0.0.1 - - [15/Jul/2020 14:20:57] "[31m[1mPOST /extract/export?filepath=extract.xlsx&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 400 -
INFO admin 2020-07-15 14:20:57,451 - Requested to pre-process data.
ERROR admin 2020-07-15 14:20:57,451 - Exception occurred: KeyError('filepath')
Traceback (most recent call last):
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\api.py", line 302, in post
    if not args['filepath']:
KeyError: 'filepath'
INFO werkzeug 2020-07-15 14:20:57,452 - 127.0.0.1 - - [15/Jul/2020 14:20:57] "[31m[1mPOST /preprocess?steps=url&steps=stemming&steps=lemmatization&steps=stopwords&steps=unusual&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 400 -
INFO admin 2020-07-15 14:20:57,469 - Requested to export pre-processed data.
DEBUG admin 2020-07-15 14:20:57,469 - Reading pre-processed datafile.
ERROR admin 2020-07-15 14:20:57,469 - Error while reading pre-processed datafile.
INFO werkzeug 2020-07-15 14:20:57,470 - 127.0.0.1 - - [15/Jul/2020 14:20:57] "[31m[1mPOST /preprocess/export?filepath=prep.xlsx&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 400 -
INFO admin 2020-07-15 14:20:57,485 - Requested to plot elbow curve.
DEBUG admin 2020-07-15 14:20:57,485 - Reading binary pre-processed data
DEBUG admin 2020-07-15 14:20:57,485 - Copying data to excel file
DEBUG admin 2020-07-15 14:20:57,486 - Reading copied excel data
DEBUG admin 2020-07-15 14:20:57,487 - Binary pre-processed data not found
DEBUG admin 2020-07-15 14:20:57,487 - Reading datafile..
ERROR admin 2020-07-15 14:20:57,487 - Failed to read datafile
Traceback (most recent call last):
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\api.py", line 1326, in post
    jsondata = ex.read_json(ex.get_recent_file('preprocess_' + args['uname'] + '_' + fname, '.json'))
  File "C:\Users\ASHWIN\Desktop\FinIQ\Assignments_FinIQ\NLP_Citi\pre-processing-and-API\extract.py", line 174, in read_json
    fhand = open(fname)
FileNotFoundError: [Errno 2] No such file or directory: 'False'
INFO werkzeug 2020-07-15 14:20:57,488 - 127.0.0.1 - - [15/Jul/2020 14:20:57] "[31m[1mPOST /clustering/elbow?uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 400 -
INFO werkzeug 2020-07-15 14:22:32,773 -  * Detected change in 'C:\\Users\\ASHWIN\\Desktop\\FinIQ\\Assignments_FinIQ\\NLP_Citi\\pre-processing-and-API\\clean_file.py', reloading
INFO werkzeug 2020-07-15 14:22:32,961 -  * Restarting with stat
INFO admin 2020-07-15 14:23:12,969 - Requested to extract data.
DEBUG admin 2020-07-15 14:23:12,969 - Extracted links and ISINs from JSON object.
INFO admin 2020-07-15 14:23:40,129 - Made entry for extracted data in datafile successfully.
INFO werkzeug 2020-07-15 14:23:40,130 - 127.0.0.1 - - [15/Jul/2020 14:23:40] "[37mPOST /extract?no_of_docs=30&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
INFO admin 2020-07-15 14:23:40,142 - Requested to export extracted data.
DEBUG admin 2020-07-15 14:23:40,152 - Checking if filepath has valid format
DEBUG admin 2020-07-15 14:23:40,152 - Exporting data to excel file
INFO admin 2020-07-15 14:23:40,639 - Exported successfully
INFO werkzeug 2020-07-15 14:23:40,641 - 127.0.0.1 - - [15/Jul/2020 14:23:40] "[37mPOST /extract/export?filepath=extract.xlsx&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
INFO admin 2020-07-15 14:23:40,661 - Requested to pre-process data.
DEBUG admin 2020-07-15 14:23:40,661 - Reading data from datafile
DEBUG admin 2020-07-15 14:23:40,673 - Pre-processing text data
DEBUG admin 2020-07-15 14:23:58,451 - Pre-processed data
DEBUG admin 2020-07-15 14:23:58,452 - Writting pre-processed data to datafile
DEBUG admin 2020-07-15 14:23:58,454 - Made entry of pre-processed data in datafile successfully
INFO werkzeug 2020-07-15 14:23:58,455 - 127.0.0.1 - - [15/Jul/2020 14:23:58] "[37mPOST /preprocess?steps=url&steps=stemming&steps=lemmatization&steps=stopwords&steps=unusual&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
INFO admin 2020-07-15 14:23:58,467 - Requested to export pre-processed data.
DEBUG admin 2020-07-15 14:23:58,467 - Reading pre-processed datafile.
DEBUG admin 2020-07-15 14:23:58,468 - Exporting pre-processed data to excel file.
INFO admin 2020-07-15 14:23:58,927 - Exported pre-processed data successfully.
INFO werkzeug 2020-07-15 14:23:58,929 - 127.0.0.1 - - [15/Jul/2020 14:23:58] "[37mPOST /preprocess/export?filepath=prep.xlsx&uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
INFO admin 2020-07-15 14:24:10,258 - Requested to plot elbow curve.
DEBUG admin 2020-07-15 14:24:10,258 - Reading datafile..
DEBUG admin 2020-07-15 14:24:10,258 - Setting default value of threshold for Variance Threshold to 0.0001
DEBUG admin 2020-07-15 14:24:10,258 - Setting default value of number of components for PCA to 0.8
DEBUG admin 2020-07-15 14:24:10,258 - Calculating tf-idf
DEBUG admin 2020-07-15 14:24:10,287 - Calculating variance threshold
DEBUG admin 2020-07-15 14:24:10,292 - Applying PCA
DEBUG admin 2020-07-15 14:24:10,307 - Plotting elbow curve
DEBUG admin 2020-07-15 14:24:12,140 - Writing optimal k value
INFO admin 2020-07-15 14:24:12,140 - Obtained optimal value of K using Elbow curve successfully
INFO werkzeug 2020-07-15 14:24:12,140 - 127.0.0.1 - - [15/Jul/2020 14:24:12] "[37mPOST /clustering/elbow?uname=admin&fname=ISINS_v3.xlsx HTTP/1.1[0m" 200 -
